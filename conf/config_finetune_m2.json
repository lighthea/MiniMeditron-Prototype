{
    "general_settings" : {
        "process_file": "data/structure/pipelines/pipeline_2.json",
        "base_model_id": "HuggingFaceH4/zephyr-7b-beta",
        "task": "qa",
        "use_flash_attn": false
    },

    "general_folders" : {
        "guidelines_folder": "data/knowledge_database/guidelines/structured_guidelines",
        "train_folder": "data/knowledge_database/generated_patients/structured_patients",
        "base_folder": "data/structure/guidelines"
    },

    "model_folders" : {
        "tokenized_data_path": "data/exports/dataset/model2_qa/processed",
        "output_dir": "data/exports/finetuned_models/model2_qa",
        "save_path": "data/exports/finetuned_models/model2_qa/checkpoints"
    },

    "dataset_generation" : {
        "force_retokenize": false,
        "n_context_guidelines": 3,
        "with_token": true,
        "with_output": true,
        "test_size": 0.1
    },

    "model_parameters" : {
        "num_train_epochs": 2,
        "per_device_train_batch_size": 1,
        "eval_steps" : 50,
        "save_steps": 50,
        "logging_steps": 25,
        "learning_rate": 5e-5,
        "max_steps": 2000,
        "neftune_noise_alpha": 5,
        "eval_accumulation_steps": 1,
        "gradient_checkpointing": true,
        "gradient_accumulation_steps": 2,
        "gradient_checkpointing_kwargs" :  {"use_reentrant": false}
    },

    "loss": {
        "type": "accuracy"
    },

    "wandb_parameters" : {
        "start_from_checkpoint": true,
        "baseline_name" : "generalist-model",
        "run_name": "model2-qa-finetune-metrics",
        "wandb_key": "ENCRYPT{6Sh6oSVjU7cwKe4NtPPtGg==;P9N5xM5uztWgYVH934uqX/7m68wHPiBjquEL3E3OG2KL9XSJAUdjNA==;xq/UydGvgEz08eOe1Wg3NA==}",
        "wandb_project": "minimed-finetune-proto0",
        "wandb_folder": "data/exports/wandb"
    }
}
